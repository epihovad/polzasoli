(function(a){var b,g,h,k,l,s,p,t,f,c={init:function(){a.preloadImg("/inc/advanced/jAlert/jAlert.png");b=a('<div id="jAlert"></div>');g=a('<div id="jAlert_shadow"></div>');h=a('<a href="" class="ok inline"></a>');k=a('<a href="" class="yes inline"></a>');l=a('<a href="" class="no inline"></a>');b.prepend('<div class="info_place"></div><div class="btn_place" align="center"></div>');a("body").prepend(b);f=a.browser.msie?parseInt(a.browser.version):!1;9<f&&(f=!1);f&&a("body").prepend(g);a(window).add("body, #jAlert, #jAlert *").bind("keyup", function(a){if(!b.is(":visible")||!b.find("a.ok").size())return!1;27==a.keyCode&&c.hide.call()});a(window).resize(function(){var e=Math.round(a("body").width()/2-b.width()/2+a(window).scrollLeft()),c=Math.round(a("body").height()/2-b.height()/2+a(window).scrollTop());b.css({left:e,top:c});g.css({left:e-4,top:c-4})});a(document).mousewheel(function(a){b.is(":visible")&&a.preventDefault()})},show:function(e,m,n,d){b.size()||c.init.call();b.is(":visible")&&c.hide.call();d=a.extend({ws:!0,ws_params:{opacity:50, z:zmax?zmax:999},z:zmax?zmax+1:1E3,b_alert:"Ok",b_confirm:{b1:"\u0414\u0430",b2:"\u041d\u0435\u0442"},callbackNo:function(){}},d);p=d.ws;t=d.ws_params;var q,r;b.find(".info_place").html(m);"alert"==e?(h.html(d.b_alert),b.find(".btn_place").prepend(h),h.click(function(){n&&n.call();c.hide.call();return!1})):"confirm"==e&&(k.html(d.b_confirm.b1),l.html(d.b_confirm.b2),b.find(".btn_place").prepend(l).prepend(k),k.click(function(){n&&n.call();c.hide.call();return!1}),l.click(function(){d.callbackNo&& d.callbackNo.call();c.hide.call();return!1}));f&&"9.0">a.browser.version&&b.find(".btn_place").width(b.width());e=b.width();m=b.height();q=Math.round(a("body").width()/2-e/2+a(window).scrollLeft());r=Math.round(a("body").height()/2-m/2+a(window).scrollTop());b.css({left:q,top:r,"z-index":zmax?zmax+1:d.z});p&&(s=a(document).jB("show",t));b.show();f&&"9.0">a.browser.version&&g.css({width:e,height:m,left:q-4,top:r-4,"z-index":d.z-1}).show();b.find(".btn_place a:first").focus();zmax&&(zmax+=2)},hide:function(){b.add(g).hide(); b.find(".btn_place").html("");p&&s.jB("hide")}};a.fn.jAlert=function(a){if(c[a])return c[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return c.init.apply(this,arguments)}})(jQuery);$(function(){$(document).jAlert()});